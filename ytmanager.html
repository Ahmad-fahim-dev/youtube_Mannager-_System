<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Video Manager</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            /* Modern Blue & White Theme */
            --primary-blue: #1e40af;
            --secondary-blue: #3b82f6;
            --light-blue: #60a5fa;
            --accent-blue: #0ea5e9;
            --dark-blue: #1e3a8a;
            --pure-white: #ffffff;
            --off-white: #f8fafc;
            --light-gray: #e2e8f0;
            --medium-gray: #64748b;
            --dark-gray: #334155;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
            --error-red: #ef4444;

            /* Light theme colors */
            --bg-primary: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            --sidebar-bg: linear-gradient(180deg, #1e40af 0%, #3b82f6 100%);
            --container-bg: rgba(255, 255, 255, 0.95);
            --text-primary: #334155;
            --text-secondary: #64748b;
            --section-bg: rgba(255, 255, 255, 0.9);
            --card-bg: linear-gradient(135deg, #ffffff, #f8fafc);
            --input-bg: #ffffff;
            --input-border: #e2e8f0;
            --shadow: rgba(30, 64, 175, 0.15);
            --stat-bg: linear-gradient(135deg, #3b82f6, #1e40af);
            --form-bg: linear-gradient(135deg, #f8fafc, #e2e8f0);
        }

        [data-theme="dark"] {
            /* Dark theme colors */
            --bg-primary: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            --sidebar-bg: linear-gradient(180deg, #1e40af 0%, #1e3a8a 100%);
            --container-bg: rgba(30, 41, 59, 0.95);
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --section-bg: rgba(51, 65, 85, 0.9);
            --card-bg: linear-gradient(135deg, #334155, #475569);
            --input-bg: #334155;
            --input-border: #475569;
            --shadow: rgba(0, 0, 0, 0.3);
            --stat-bg: linear-gradient(135deg, #3b82f6, #1e40af);
            --form-bg: linear-gradient(135deg, #334155, #475569);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-primary);
            background-attachment: fixed;
            min-height: 100vh;
            padding: 0;
            margin: 0;
            transition: all 0.5s ease;
            overflow-x: hidden;
        }

        /* Modern Layout Structure */
        .app-wrapper {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            padding: 0;
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            z-index: 1000;
            box-shadow: 4px 0 20px var(--shadow);
            animation: slideInLeft 0.8s ease-out;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 30px 25px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .sidebar-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-blue), var(--light-blue));
        }

        .sidebar-header h1 {
            color: white;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .sidebar-header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }

        .sidebar-nav {
            padding: 25px 0;
        }

        .nav-item {
            margin: 0;
            list-style: none;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 18px 25px;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 500;
            font-size: 1rem;
            transition: all 0.3s ease;
            position: relative;
            border-left: 4px solid transparent;
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-left-color: var(--accent-blue);
            transform: translateX(5px);
        }

        .nav-link.active {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border-left-color: var(--accent-blue);
        }

        .nav-link i {
            margin-right: 15px;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }

        .theme-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            z-index: 1001;
            background: rgba(255, 255, 255, 0.2);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 10px 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        /* Main Content Area */
        .main-content-wrapper {
            flex: 1;
            margin-left: 280px;
            min-height: 100vh;
            position: relative;
        }

        .container {
            max-width: none;
            margin: 0;
            background: var(--container-bg);
            border-radius: 0;
            box-shadow: none;
            -webkit-backdrop-filter: none;
            backdrop-filter: none;
            border: none;
            animation: none;
            padding: 40px 50px;
        }

        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .header {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            margin-bottom: 40px;
            border-radius: 20px;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        .header::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes shimmer {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: -100%; }
        }

        .header h1 {
            font-size: 3.2rem;
            margin-bottom: 15px;
            font-weight: 800;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            animation: bounceIn 1s ease-out 0.2s both;
            letter-spacing: -0.02em;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3) translate3d(0,0,0); opacity: 0; }
            50% { transform: scale(1.05); opacity: 0.8; }
            70% { transform: scale(0.9); opacity: 0.9; }
            100% { transform: scale(1) translate3d(0,0,0); opacity: 1; }
        }

        .header p {
            font-size: 1.4rem;
            opacity: 0.95;
            animation: fadeInUp 1s ease-out 0.4s both;
            font-weight: 300;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .main-content {
            padding: 50px 40px;
        }

        .section {
            margin-bottom: 50px;
            background: var(--section-bg);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px var(--shadow);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            transition: all 0.5s ease;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.8s ease;
        }

        .section:hover::before {
            left: 100%;
        }

        .section h2 {
            color: var(--text-primary);
            margin-bottom: 30px;
            font-size: 2.2rem;
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, #ff6b6b, #4ecdc4) 1;
            padding-bottom: 15px;
            position: relative;
            animation: slideInLeft 0.8s ease-out 0.6s both;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .video-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            border-left: 8px solid #007bff;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .video-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,123,255,0.1), rgba(78,205,196,0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-card:hover {
            transform: translateY(-15px) rotateX(5deg) rotateY(-5deg);
            box-shadow: 0 20px 40px var(--shadow);
        }

        .video-card:hover::before {
            opacity: 1;
        }

        .video-card:nth-child(odd):hover {
            transform: translateY(-15px) rotateX(-5deg) rotateY(5deg);
        }

        .video-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px var(--shadow);
        }

        .video-duration {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .video-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-decoration: none;
            display: inline-block;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s ease, height 0.3s ease;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            box-shadow: 0 4px 15px rgba(0,123,255,0.3);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #0056b3, #004085);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,123,255,0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            box-shadow: 0 4px 15px rgba(220,53,69,0.3);
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #c82333, #a71e2a);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(220,53,69,0.4);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            color: #212529;
            box-shadow: 0 4px 15px rgba(255,193,7,0.3);
        }

        .btn-warning:hover {
            background: linear-gradient(135deg, #e0a800, #d39e00);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255,193,7,0.4);
        }

        .form-container {
            background: var(--form-bg);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .form-container::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--input-border);
            border-radius: 12px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            background: var(--input-bg);
            color: var(--text-primary);
        }

        input[type="text"]:focus, input[type="url"]:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 4px rgba(0, 123, 255, 0.25);
            transform: scale(1.02);
        }

        .btn-large {
            padding: 18px 35px;
            font-size: 1.2rem;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            width: 100%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(40, 167, 69, 0.3);
        }

        .btn-large::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn-large:hover {
            background: linear-gradient(135deg, #218838, #1dd1a1);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.4);
        }

        .btn-large:hover::before {
            left: 100%;
        }

        .empty-state {
            text-align: center;
            color: var(--text-secondary);
            padding: 50px;
            font-style: italic;
            font-size: 1.2rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--stat-bg);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .stat-card:hover::before {
            transform: scale(1);
        }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.05);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
        }

        .stat-label {
            font-size: 1.2rem;
            opacity: 0.95;
            position: relative;
            z-index: 2;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .stat-number {
            animation: pulse 2s ease-in-out infinite;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .video-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .main-content {
                padding: 30px 20px;
            }

            .section {
                padding: 25px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 6px 10px;
                font-size: 1rem;
            }
        }

        /* Loading animation */
        .loading {
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        /* Notification animations */
        .notification {
            animation: slideInRight 0.3s ease, shake 0.5s ease 0.3s;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Content Section Management */
        .content-section {
            display: none;
            animation: fadeInUp 0.6s ease-out;
        }

        .content-section.active {
            display: block;
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .section-controls {
            margin-bottom: 30px;
            text-align: right;
        }

        /* Analytics Cards */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .analytics-card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px var(--shadow);
            transition: all 0.3s ease;
        }

        .analytics-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--shadow);
        }

        .analytics-card h3 {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .analytics-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-blue);
        }

        /* Settings Cards */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .setting-card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px var(--shadow);
            transition: all 0.3s ease;
        }

        .setting-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px var(--shadow);
        }

        .setting-card h3 {
            color: var(--text-primary);
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .setting-card p {
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        /* Stat Card Icons */
        .stat-icon {
            position: absolute;
            bottom: 15px;
            right: 15px;
            font-size: 1.5rem;
            opacity: 0.3;
            transition: opacity 0.3s ease;
        }

        .stat-card:hover .stat-icon {
            opacity: 0.6;
        }

        /* Mobile Responsiveness */
        @media (max-width: 1024px) {
            .main-content-wrapper {
                margin-left: 0;
            }

            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .mobile-menu-toggle {
                display: block;
            }
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .video-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .main-content {
                padding: 30px 20px;
            }

            .section {
                padding: 25px;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }

            .analytics-grid {
                grid-template-columns: 1fr;
            }

            .settings-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Hidden class for animations */
        .hidden {
            opacity: 0;
            transform: translateY(20px);
        }

        /* Mobile menu toggle (hidden by default, shown on mobile) */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }


    </style>
</head>
<body>
    <div class="app-wrapper">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1><i class="fas fa-video"></i> YT Manager</h1>
                <p>Professional Video Management</p>
            </div>

            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item">
                        <a href="#" class="nav-link active" onclick="showSection('dashboard')">
                            <i class="fas fa-tachometer-alt"></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" onclick="showSection('add-video')">
                            <i class="fas fa-plus-circle"></i>
                            Add Video
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" onclick="showSection('download-video')">
                            <i class="fas fa-download"></i>
                            Download Video
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" onclick="showSection('videos')">
                            <i class="fas fa-list"></i>
                            All Videos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" onclick="showSection('analytics')">
                            <i class="fas fa-chart-bar"></i>
                            Analytics
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" onclick="showSection('settings')">
                            <i class="fas fa-cog"></i>
                            Settings
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content-wrapper">
            <div class="container">
                <!-- Page Header -->
                <div class="header">
                    <h1><i class="fas fa-video"></i> YouTube Video Manager</h1>
                    <p>Manage your favorite YouTube videos with modern style and efficiency</p>
                </div>

                <!-- Dashboard Section (Default) -->
                <div id="dashboard-section" class="content-section active">
                    <div class="stats">
                        <div class="stat-card" onclick="showSection('videos')">
                            <div class="stat-number" id="total-videos">0</div>
                            <div class="stat-label">Total Videos</div>
                            <i class="fas fa-video stat-icon"></i>
                        </div>
                        <div class="stat-card" onclick="showSection('analytics')">
                            <div class="stat-number" id="total-duration">0 min</div>
                            <div class="stat-label">Total Duration</div>
                            <i class="fas fa-clock stat-icon"></i>
                        </div>
                        <div class="stat-card" onclick="showSection('add-video')">
                            <div class="stat-number" id="avg-duration">0 min</div>
                            <div class="stat-label">Average Duration</div>
                            <i class="fas fa-chart-line stat-icon"></i>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="section">
                        <h2><i class="fas fa-bolt"></i> Quick Actions</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="showSection('add-video')">
                                <i class="fas fa-plus"></i> Add New Video
                            </button>
                            <button class="btn btn-warning" onclick="showSection('videos')">
                                <i class="fas fa-list"></i> View All Videos
                            </button>
                        </div>
                    </div>

                    <!-- Recent Videos Preview -->
                    <div class="section">
                        <h2><i class="fas fa-history"></i> Recent Videos</h2>
                        <div id="recent-videos" class="video-grid">
                            <!-- Recent videos will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Add Video Section -->
                <div id="add-video-section" class="content-section">
                    <div class="section">
                        <h2><i class="fas fa-plus-circle"></i> Add New Video</h2>
                        <div class="form-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="video-name"><i class="fas fa-heading"></i> Video Name:</label>
                                    <input type="text" id="video-name" placeholder="Enter video name..." required>
                                </div>
                                <div class="form-group">
                                    <label for="video-duration"><i class="fas fa-clock"></i> Duration (minutes):</label>
                                    <input type="text" id="video-duration" placeholder="Enter duration..." required>
                                </div>
                            </div>
                            <button class="btn-large" onclick="addVideo()">
                                <i class="fas fa-plus"></i> Add Video
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Download Video Section -->
                <div id="download-video-section" class="content-section">
                    <div class="section">
                        <h2><i class="fas fa-download"></i> Download YouTube Video</h2>
                        <div class="form-container">
                            <div class="form-group">
                                <label for="youtube-url"><i class="fab fa-youtube"></i> YouTube URL:</label>
                                <input type="url" id="youtube-url" placeholder="https://www.youtube.com/watch?v=VIDEO_ID or https://youtu.be/VIDEO_ID" required>
                                <small style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 8px; display: block;">
                                    <i class="fas fa-info-circle"></i> Paste a valid YouTube video URL. The video will be downloaded and added to your collection.
                                </small>
                            </div>
                            <div class="form-group">
                                <label for="video-resolution"><i class="fas fa-cog"></i> Resolution Quality:</label>
                                <select id="video-resolution" style="width: 100%; padding: 15px 20px; border: 2px solid var(--input-border); border-radius: 12px; font-size: 1.1rem; transition: all 0.3s ease; background: var(--input-bg); color: var(--text-primary);">
                                    <option value="best[height<=1080]">Best Quality (up to 1080p)</option>
                                    <option value="best[height<=720]" selected>High Quality (720p)</option>
                                    <option value="best[height<=480]">Medium Quality (480p)</option>
                                    <option value="worst">Low Quality (fastest)</option>
                                    <option value="bestaudio">Audio Only (MP3)</option>
                                </select>
                                <small style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 8px; display: block;">
                                    <i class="fas fa-info-circle"></i> Choose your preferred video quality. Higher quality files will be larger.
                                </small>
                            </div>
                            <button class="btn-large" onclick="showDownloadConfirmation()" id="download-btn">
                                <i class="fas fa-download"></i> Download & Add Video
                            </button>
                        </div>

                        <div id="download-progress" style="display: none; margin-top: 30px;">
                            <div class="analytics-card">
                                <h3><i class="fas fa-spinner fa-spin"></i> Downloading Video...</h3>
                                <p>Please wait while we download the video and extract its information.</p>
                                <div style="margin-top: 15px;">
                                    <div style="width: 100%; height: 10px; background: var(--light-gray); border-radius: 5px;">
                                        <div id="progress-bar" style="width: 0%; height: 100%; background: linear-gradient(135deg, #10b981, #059669); border-radius: 5px; transition: width 0.3s ease;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Download Confirmation Modal -->
                <div id="download-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; align-items: center; justify-content: center;">
                    <div style="background: var(--card-bg); padding: 40px; border-radius: 20px; max-width: 500px; width: 90%; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.3);">
                        <div style="font-size: 3rem; margin-bottom: 20px;">
                            <i class="fas fa-download" style="color: var(--success-green);"></i>
                        </div>
                        <h3 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1.5rem;">Confirm Download</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 20px; line-height: 1.6;">
                            Are you sure you want to download this YouTube video?<br>
                            <span id="confirm-video-info" style="font-weight: 600; color: var(--text-primary);"></span>
                        </p>
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <button class="btn btn-danger" onclick="closeDownloadModal()" style="padding: 12px 25px;">
                                <i class="fas fa-times"></i> Cancel
                            </button>
                            <button class="btn btn-primary" onclick="confirmDownload()" style="padding: 12px 25px;">
                                <i class="fas fa-check"></i> Start Download
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Videos List Section -->
                <div id="videos-section" class="content-section">
                    <div class="section">
                        <h2><i class="fas fa-list"></i> Your Videos</h2>
                        <div class="section-controls">
                            <button class="btn btn-primary" onclick="showSection('add-video')">
                                <i class="fas fa-plus"></i> Add New Video
                            </button>
                        </div>
                        <div id="videos-container" class="video-grid">
                            <!-- Videos will be loaded here -->
                        </div>
                        <div id="empty-state" class="empty-state">
                            <i class="fas fa-video-slash"></i>
                            No videos added yet. Add your first video above!
                        </div>
                    </div>
                </div>

                <!-- Analytics Section -->
                <div id="analytics-section" class="content-section">
                    <div class="section">
                        <h2><i class="fas fa-chart-bar"></i> Analytics</h2>
                        <div class="analytics-grid">
                            <div class="analytics-card">
                                <h3>Total Videos</h3>
                                <div class="analytics-number" id="analytics-videos">0</div>
                            </div>
                            <div class="analytics-card">
                                <h3>Total Duration</h3>
                                <div class="analytics-number" id="analytics-duration">0 min</div>
                            </div>
                            <div class="analytics-card">
                                <h3>Average Duration</h3>
                                <div class="analytics-number" id="analytics-avg">0 min</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Section -->
                <div id="settings-section" class="content-section">
                    <div class="section">
                        <h2><i class="fas fa-cog"></i> Settings</h2>
                        <div class="settings-grid">
                            <div class="setting-card">
                                <h3><i class="fas fa-palette"></i> Theme</h3>
                                <p>Switch between light and dark themes</p>
                                <div class="theme-toggle" onclick="toggleTheme()" id="theme-toggle" title="Switch Theme">
                                    <i class="fas fa-moon"></i>
                                </div>
                            </div>
                            <div class="setting-card">
                                <h3><i class="fas fa-database"></i> Data Management</h3>
                                <p>Manage your video data and settings</p>
                                <button class="btn btn-warning" onclick="exportData()">
                                    <i class="fas fa-download"></i> Export Data
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </main>
    </div>

    <script>
        // API base URL
        const API_BASE = window.location.origin;

        // Load videos from the Python backend
        async function loadVideos() {
            try {
                const response = await fetch(`${API_BASE}/api/videos`);
                const data = await response.json();

                if (data.success) {
                    videos = data.videos;
                    displayVideos();
                    updateStats();
                } else {
                    console.error('Error loading videos:', data.error);
                    showNotification('Error loading videos! ‚ùå', 'error');
                }
            } catch (error) {
                console.error('Error fetching videos:', error);
                showNotification('Error connecting to server! ‚ùå', 'error');
            }
        }

        // Save videos to the Python backend
        async function saveVideo(videoData, method = 'POST', index = null) {
            try {
                let url = `${API_BASE}/api/videos`;
                if (method === 'PUT' && index !== null) {
                    url = `${API_BASE}/api/videos/${index}`;
                }

                const response = await fetch(url, {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(videoData)
                });

                const data = await response.json();

                if (data.success) {
                    await loadVideos(); // Reload videos after successful operation
                    return { success: true, data: data };
                } else {
                    return { success: false, error: data.error };
                }
            } catch (error) {
                console.error('Error saving video:', error);
                return { success: false, error: 'Network error' };
            }
        }

        // Display all videos
        function displayVideos() {
            const container = document.getElementById('videos-container');
            const emptyState = document.getElementById('empty-state');

            if (videos.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }

            emptyState.style.display = 'none';
            container.innerHTML = '';

            videos.forEach((video, index) => {
                const videoCard = document.createElement('div');
                videoCard.className = 'video-card';
                videoCard.innerHTML = `
                    <div class="video-title">${video.video}</div>
                    <div class="video-duration">‚è±Ô∏è ${video.time} minutes</div>
                    <div class="video-actions">
                        <button class="btn btn-warning" onclick="editVideo(${index})">‚úèÔ∏è Edit</button>
                        <button class="btn btn-danger" onclick="deleteVideo(${index})">üóëÔ∏è Delete</button>
                    </div>
                `;
                container.appendChild(videoCard);
            });
        }

        // Add new video
        async function addVideo() {
            const nameInput = document.getElementById('video-name');
            const durationInput = document.getElementById('video-duration');

            const name = nameInput.value.trim();
            const duration = durationInput.value.trim();

            if (!name || !duration) {
                showNotification('Please fill in both fields! ‚ö†Ô∏è', 'warning');
                return;
            }

            const result = await saveVideo({ video: name, time: duration });

            if (result.success) {
                // Clear form
                nameInput.value = '';
                durationInput.value = '';
                showNotification('Video added successfully! üéâ');
            } else {
                showNotification(`Error adding video: ${result.error} ‚ùå`, 'error');
            }
        }

        // Edit video
        async function editVideo(index) {
            const video = videos[index];
            const newName = prompt('Enter new video name:', video.video);
            const newDuration = prompt('Enter new duration:', video.time);

            if (newName !== null && newDuration !== null) {
                if (newName.trim() && newDuration.trim()) {
                    const result = await saveVideo(
                        { video: newName.trim(), time: newDuration.trim() },
                        'PUT',
                        index
                    );

                    if (result.success) {
                        showNotification('Video updated successfully! ‚ú®');
                    } else {
                        showNotification(`Error updating video: ${result.error} ‚ùå`, 'error');
                    }
                } else {
                    showNotification('Both fields are required! ‚ö†Ô∏è', 'warning');
                }
            }
        }

        // Delete video
        async function deleteVideo(index) {
            const video = videos[index];
            if (confirm(`Are you sure you want to delete "${video.video}"?`)) {
                try {
                    const response = await fetch(`${API_BASE}/api/videos/${index}`, {
                        method: 'DELETE'
                    });

                    const data = await response.json();

                    if (data.success) {
                        await loadVideos(); // Reload videos after deletion
                        showNotification('Video deleted successfully! üóëÔ∏è');
                    } else {
                        showNotification(`Error deleting video: ${data.error} ‚ùå`, 'error');
                    }
                } catch (error) {
                    console.error('Error deleting video:', error);
                    showNotification('Error deleting video! ‚ùå', 'error');
                }
            }
        }

        // Update statistics
        async function updateStats() {
            try {
                const response = await fetch(`${API_BASE}/api/stats`);
                const data = await response.json();

                if (data.success) {
                    const { total_videos, total_duration } = data.stats;
                    document.getElementById('total-videos').textContent = total_videos;
                    document.getElementById('total-duration').textContent = `${total_duration} min`;
                } else {
                    console.error('Error loading stats:', data.error);
                }
            } catch (error) {
                console.error('Error fetching stats:', error);
            }
        }

        // Show notification
        function showNotification(message, type = 'success') {
            // Create notification element
            const notification = document.createElement('div');

            // Different colors for different notification types
            let backgroundColor = 'linear-gradient(135deg, #28a745, #20c997)'; // success (green)
            if (type === 'error') {
                backgroundColor = 'linear-gradient(135deg, #dc3545, #c82333)'; // error (red)
            } else if (type === 'warning') {
                backgroundColor = 'linear-gradient(135deg, #ffc107, #e0a800)'; // warning (yellow)
            }

            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${backgroundColor};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                z-index: 1000;
                font-weight: 500;
                animation: slideInRight 0.3s ease;
                max-width: 300px;
                word-wrap: break-word;
            `;
            notification.textContent = message;

            document.body.appendChild(notification);

            // Remove notification after 4 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Theme toggle functionality
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('theme-toggle');
            const isDark = body.getAttribute('data-theme') === 'dark';

            if (isDark) {
                body.removeAttribute('data-theme');
                themeToggle.textContent = 'üåô';
                themeToggle.title = 'Switch to Dark Mode';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '‚òÄÔ∏è';
                themeToggle.title = 'Switch to Light Mode';
                localStorage.setItem('theme', 'dark');
            }

            // Add a nice transition effect
            body.style.transition = 'all 0.5s ease';

            // Show theme switch notification
            showNotification(`Switched to ${isDark ? 'Light' : 'Dark'} Mode! ${isDark ? 'üåû' : 'üåô'}`);
        }

        // Load saved theme on page load
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const themeToggle = document.getElementById('theme-toggle');

            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '‚òÄÔ∏è';
                themeToggle.title = 'Switch to Light Mode';
            }
        }

        // Section Navigation
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            const targetSection = document.getElementById(`${sectionName}-section`);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Update active nav link
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Find and activate the clicked nav link
            const activeLink = Array.from(navLinks).find(link =>
                link.onclick && link.onclick.toString().includes(`'${sectionName}'`)
            );
            if (activeLink) {
                activeLink.classList.add('active');
            }

            // Special handling for different sections
            if (sectionName === 'dashboard') {
                loadDashboardData();
            } else if (sectionName === 'analytics') {
                updateAnalytics();
            }
        }

        // Load dashboard data
        async function loadDashboardData() {
            await loadVideos();
            await updateStats();
            loadRecentVideos();
        }

        // Load recent videos for dashboard
        function loadRecentVideos() {
            const recentContainer = document.getElementById('recent-videos');
            if (!recentContainer) return;

            if (videos.length === 0) {
                recentContainer.innerHTML = '<div class="empty-state">No recent videos</div>';
                return;
            }

            // Show only first 3 videos
            const recentVideos = videos.slice(0, 3);
            recentContainer.innerHTML = '';

            recentVideos.forEach((video, index) => {
                const videoCard = document.createElement('div');
                videoCard.className = 'video-card';
                videoCard.innerHTML = `
                    <div class="video-title">${video.video}</div>
                    <div class="video-duration">‚è±Ô∏è ${video.time} minutes</div>
                    <div class="video-actions">
                        <button class="btn btn-primary" onclick="showSection('videos')">View All</button>
                    </div>
                `;
                recentContainer.appendChild(videoCard);
            });
        }

        // Update analytics section
        async function updateAnalytics() {
            try {
                const response = await fetch(`${API_BASE}/api/stats`);
                const data = await response.json();

                if (data.success) {
                    const { total_videos, total_duration } = data.stats;
                    const avgDuration = total_videos > 0 ? Math.round(total_duration / total_videos) : 0;

                    document.getElementById('analytics-videos').textContent = total_videos;
                    document.getElementById('analytics-duration').textContent = `${total_duration} min`;
                    document.getElementById('analytics-avg').textContent = `${avgDuration} min`;

                    // Update dashboard average too
                    document.getElementById('avg-duration').textContent = `${avgDuration} min`;
                }
            } catch (error) {
                console.error('Error updating analytics:', error);
            }
        }

        // Show download confirmation modal
        function showDownloadConfirmation() {
            const urlInput = document.getElementById('youtube-url');
            const url = urlInput.value.trim();

            if (!url) {
                showNotification('Please enter a YouTube URL first! ‚ö†Ô∏è', 'warning');
                return;
            }

            // Check if URL is valid
            if (!url.match(/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[a-zA-Z0-9_-]{11}/)) {
                showNotification('Please enter a valid YouTube URL! ‚ö†Ô∏è', 'warning');
                return;
            }

            // Show modal with basic info
            const modal = document.getElementById('download-modal');
            modal.style.display = 'flex';
            modal.style.alignItems = 'center';
            modal.style.justifyContent = 'center';

            const videoInfoDiv = document.getElementById('confirm-video-info');
            videoInfoDiv.innerHTML = `<strong>YouTube Video</strong><br>
                URL: ${url.substring(0, 50)}${url.length > 50 ? '...' : ''}<br>
                Quality: ${getSelectedQualityLabel()}`;
        }

        // Close download modal
        function closeDownloadModal() {
            const modal = document.getElementById('download-modal');
            modal.style.display = 'none';
        }

        // Confirm and start download
        async function confirmDownload() {
            closeDownloadModal();

            const urlInput = document.getElementById('youtube-url');
            const resolutionSelect = document.getElementById('video-resolution');
            const downloadBtn = document.getElementById('download-btn');
            const progressDiv = document.getElementById('download-progress');
            const progressBar = document.getElementById('progress-bar');

            const url = urlInput.value.trim();
            const quality = resolutionSelect.value;

            // Show loading state
            downloadBtn.disabled = true;
            downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Downloading...';
            progressDiv.style.display = 'block';
            progressBar.style.width = '0%';

            try {
                // Update progress
                progressBar.style.width = '20%';

                const response = await fetch(`${API_BASE}/api/download`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        url: url,
                        quality: quality
                    })
                });

                progressBar.style.width = '80%';

                const data = await response.json();

                if (data.success) {
                    progressBar.style.width = '100%';
                    // Clear form
                    urlInput.value = '';

                // Show success and automatically start downloading the video file
                showNotification('Video downloaded successfully! Downloading file... üì•', 'success');

                // Automatically download the video file
                if (data.video && data.video.download_path) {
                    // Extract filename from download path
                    const filename = data.video.download_path.split('/').pop().split('\\').pop();

                    // Clean filename for URL
                    const cleanFilename = encodeURIComponent(filename).replace(/%27/g, "'").replace(/'/g, "'");

                    const downloadUrl = `/downloads/${cleanFilename}`;

                    // Create and trigger download
                    const downloadLink = document.createElement('a');
                    downloadLink.href = downloadUrl;
                    downloadLink.download = filename;
                    downloadLink.target = '_self'; // Same tab to trigger download
                    downloadLink.style.display = 'none';

                    document.body.appendChild(downloadLink);
                    downloadLink.click();
                    document.body.removeChild(downloadLink);
                }

                } else {
                    showNotification(`Error downloading video: ${data.error} ‚ùå`, 'error');
                }
            } catch (error) {
                console.error('Error downloading video:', error);
                showNotification('Network error while downloading video! ‚ùå', 'error');
            } finally {
                // Reset loading state after a delay
                setTimeout(() => {
                    downloadBtn.disabled = false;
                    downloadBtn.innerHTML = '<i class="fas fa-download"></i> Download & Add Video';
                    progressDiv.style.display = 'none';
                }, 2000);
            }
        }

        // Get selected quality label
        function getSelectedQualityLabel() {
            const select = document.getElementById('video-resolution');
            const selectedOption = select.options[select.selectedIndex];
            return selectedOption.text;
        }

        // Export data functionality
        function exportData() {
            if (videos.length === 0) {
                showNotification('No data to export! üì≠', 'warning');
                return;
            }

            const dataStr = JSON.stringify(videos, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});

            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'youtube_videos.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showNotification('Data exported successfully! üì•');
        }

        // Enhanced notification system with better positioning
        function showNotification(message, type = 'success') {
            // Remove existing notifications
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notif => notif.remove());

            const notification = document.createElement('div');
            notification.className = 'notification';

            // Different colors for different notification types
            let backgroundColor = 'linear-gradient(135deg, #10b981, #059669)'; // success (green)
            let icon = 'fas fa-check-circle';

            if (type === 'error') {
                backgroundColor = 'linear-gradient(135deg, #ef4444, #dc2626)'; // error (red)
                icon = 'fas fa-exclamation-circle';
            } else if (type === 'warning') {
                backgroundColor = 'linear-gradient(135deg, #f59e0b, #d97706)'; // warning (yellow)
                icon = 'fas fa-exclamation-triangle';
            }

            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${backgroundColor};
                color: white;
                padding: 18px 25px;
                border-radius: 12px;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
                z-index: 1002;
                font-weight: 500;
                animation: slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                max-width: 350px;
                word-wrap: break-word;
                display: flex;
                align-items: center;
                gap: 12px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            `;

            notification.innerHTML = `
                <i class="${icon}" style="font-size: 1.2rem; opacity: 0.9;"></i>
                <span>${message}</span>
            `;

            document.body.appendChild(notification);

            // Remove notification after 4 seconds with fade out
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 400);
            }, 4000);
        }

        // Add slideOutRight animation
        const animationStyle = document.createElement('style');
        animationStyle.textContent = `
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(animationStyle);

        // Enhanced theme toggle with better visual feedback
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('theme-toggle');
            const isDark = body.getAttribute('data-theme') === 'dark';

            // Add spinning animation to toggle button
            themeToggle.style.animation = 'spin 0.5s ease-in-out';

            setTimeout(() => {
                if (isDark) {
                    body.removeAttribute('data-theme');
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                    themeToggle.title = 'Switch to Dark Mode';
                    localStorage.setItem('theme', 'light');
                } else {
                    body.setAttribute('data-theme', 'dark');
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                    themeToggle.title = 'Switch to Light Mode';
                    localStorage.setItem('theme', 'dark');
                }

                themeToggle.style.animation = '';
                body.style.transition = 'all 0.5s ease';

                showNotification(`Switched to ${isDark ? 'Light' : 'Dark'} Mode! ${isDark ? 'üåû' : 'üåô'}`);
            }, 250);
        }

        // Add spin animation
        const spinStyle = document.createElement('style');
        spinStyle.textContent = `
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(spinStyle);

        // Load saved theme on page load
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const themeToggle = document.getElementById('theme-toggle');

            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                themeToggle.title = 'Switch to Light Mode';
            }
        }

        // Utility functions
        function formatDuration(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;

            if (hours > 0) {
                return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            }
        }

        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            } else {
                return num.toString();
            }
        }

        // Enhanced page initialization
        window.onload = function() {
            loadTheme();
            loadDashboardData(); // Load dashboard by default

            // Add smooth scrolling
            document.documentElement.style.scrollBehavior = 'smooth';

            // Add loading animation to sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach((section, index) => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';

                setTimeout(() => {
                    section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                    section.style.opacity = '1';
                    section.style.transform = 'translateY(0)';
                }, index * 100);
            });
        };
    </script>
</body>
</html>
